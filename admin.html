<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Administração - Folhetos</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <h1>Painel de Administração</h1>

    <div class="container">
        <h2>Gerenciar Mercearias</h2>
        <div class="form-container">
            <h3>Adicionar/Editar Mercearia</h3>
            <form id="storeForm">
                <input type="hidden" id="storeId">
                <input type="text" id="storeName" placeholder="Nome da Mercearia" required>
                    <label for="storeLogoFile">Logo da Mercearia:</label>
                    <input type="file" id="storeLogoFile" accept="image/*">
                    <img id="logoPreview" src="" alt="Pré-visualização da logo" style="width: 150px; display: none; margin-top: 10px;">
                    <input type="hidden" id="storeLogoUrl">
                    <input type="text" id="storeCep" placeholder="CEP (apenas números)" maxlength="8">
                    <input type="text" id="storeStreet" placeholder="Rua / Logradouro" required>
                    <input type="text" id="storeNumber" placeholder="Número" required>
                    <input type="text" id="storeNeighborhood" placeholder="Bairro" required>
                    <input type="text" id="storeCity" placeholder="Cidade" required>
                    <input type="text" id="storeState" placeholder="Estado (UF)" required>
                <div class="input-group">
                    <span>+55</span>
                    <input type="text" id="storeWhatsapp" placeholder="DDD + Número (ex: 11999999999)" required>
                </div>
                <button type="submit">Salvar Mercearia</button>
                <button type="button" id="cancelStoreEdit" style="display:none; background-color: #ccc;">Cancelar</button>
            </form>
        </div>

        <table id="storeTable">
            <thead>
                <tr>
                    <th>Nome da Mercearia</th>
                    <th>Link do Folheto</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="container" id="productsSection" style="display:none;">
        <hr>
        <h2 id="selectedStoreName"></h2>
        <h3>Gerenciar Produtos</h3>
        <div class="form-container">
            <form id="productForm">
                <input type="hidden" id="productId">
                <input type="text" id="name" placeholder="Nome do Produto" required>
                <input type="text" id="description" placeholder="Descrição" required>
                <input type="number" id="price" placeholder="Preço (ex: 9.99)" step="0.01" required>
                <label for="imageFile">Imagem do Produto:</label>
                <input type="file" id="imageFile" accept="image/*">
                <img id="imagePreview" src="" alt="Pré-visualização" style="width: 100px; display: none; margin-top: 10px;">
                <input type="hidden" id="imageUrl">
                <label for="isPromotional">
                    <input type="checkbox" id="isPromotional"> Promocional (exibido no folheto)
                </label>
                <button type="submit">Salvar Produto</button>
                <button type="button" id="cancelProductEdit" style="display:none; background-color: #ccc;">Cancelar</button>
            </form>
        </div>

        <table id="productTable">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Descrição</th>
                    <th>Preço</th>
                    <th>Imagem</th>
                    <th>Promocional</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script type="module" src="js/productManager.js"></script>
    <script type="module" src="js/storeManager.js"></script>
</body>
</html>